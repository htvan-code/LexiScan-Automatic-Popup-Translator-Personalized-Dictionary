<Window x:Class="LexiScan.App.Views.LoginView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:vm="clr-namespace:LexiScan.App.ViewModels"
        mc:Ignorable="d"
        Title="LoginView" Height="600" Width="920"
        WindowStyle="None" ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="Transparent" AllowsTransparency="True"
        MouseDown="Window_MouseDown"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        FontFamily="{DynamicResource MaterialDesignFont}">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>

    <Window.DataContext>
        <vm:LoginViewModel/>
    </Window.DataContext>

    <Border CornerRadius="20" Background="#121212" BorderBrush="#333" BorderThickness="1">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" CornerRadius="20,0,0,20">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#C2185B" Offset="0"/>
                        <GradientStop Color="#121212" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Grid>
                    <Ellipse Width="300" Height="300" Fill="#E91E63" Opacity="0.1" Margin="-100,-100,0,0" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                    <Ellipse Width="200" Height="200" Fill="#E91E63" Opacity="0.1" Margin="0,0,-50,-50" VerticalAlignment="Bottom" HorizontalAlignment="Right"/>
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="BookAlphabet" Width="100" Height="100" Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                        <TextBlock Text="LexiScan" FontSize="40" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" FontFamily="Segoe UI"/>
                        <TextBlock Text="Tra cứu &amp; Dịch thuật thông minh" FontSize="16" Foreground="#DDDDDD" HorizontalAlignment="Center" Margin="0,10,0,0" FontStyle="Italic"/>
                    </StackPanel>
                </Grid>
            </Border>

            <Grid Grid.Column="1">
                <Button Command="{Binding CloseCommand}"
                        HorizontalAlignment="Right" VerticalAlignment="Top"
                        Margin="0,10,10,0"
                        Style="{StaticResource MaterialDesignIconForegroundButton}"
                        ToolTip="Đóng" Panel.ZIndex="1">
                    <materialDesign:PackIcon Kind="Close" Width="25" Height="25" Foreground="#AAAAAA"/>
                </Button>

                <StackPanel VerticalAlignment="Center" Margin="50"
                            Visibility="{Binding IsLoginVisible, Converter={StaticResource BooleanToVisibilityConverter}}">

                    <TextBlock Text="Đăng Nhập" FontSize="32" FontWeight="Bold" Foreground="#E91E63" Margin="0,0,0,10"/>
                    <TextBlock Text="Chào mừng bạn quay trở lại!" FontSize="14" Foreground="#888" Margin="0,0,0,40"/>

                    <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                             materialDesign:HintAssist.Hint="Email"
                             materialDesign:TextFieldAssist.HasClearButton="True"
                             FontSize="16" Margin="0,0,0,20"
                             Foreground="White" BorderBrush="#E91E63"
                             materialDesign:HintAssist.Foreground="#E91E63"/>

                    <PasswordBox x:Name="UserPasswordBox"
                                 Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                 materialDesign:HintAssist.Hint="Mật khẩu"
                                 FontSize="16" Margin="0,0,0,10"
                                 Foreground="White" BorderBrush="#E91E63"
                                 materialDesign:HintAssist.Foreground="#E91E63"/>

                    <TextBlock Text="Quên mật khẩu?" 
                               HorizontalAlignment="Right" 
                               Foreground="#888" Cursor="Hand" 
                               TextDecorations="Underline" Margin="0,0,0,30">
                        <TextBlock.InputBindings>
                            <MouseBinding MouseAction="LeftClick" Command="{Binding ForgotPasswordCommand}"/>
                        </TextBlock.InputBindings>
                    </TextBlock>

                    <Button Command="{Binding LoginCommand}"
                            CommandParameter="{Binding ElementName=UserPasswordBox}"
                            Content="ĐĂNG NHẬP"
                            Height="50" FontSize="16" FontWeight="Bold"
                            materialDesign:ButtonAssist.CornerRadius="25"
                            Background="#E91E63" BorderThickness="0"
                            Margin="0,0,0,20"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="Chưa có tài khoản? " Foreground="#888"/>
                        <TextBlock Text="Đăng ký ngay" 
                                   Foreground="#E91E63" FontWeight="Bold" 
                                   Cursor="Hand" TextDecorations="Underline">
                            <TextBlock.InputBindings>
                                <MouseBinding MouseAction="LeftClick" Command="{Binding SwitchToSignUpCommand}"/>
                            </TextBlock.InputBindings>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>

                <StackPanel VerticalAlignment="Center" Margin="50,20,50,20"
                            Visibility="{Binding IsSignUpVisible, Converter={StaticResource BooleanToVisibilityConverter}}">

                    <TextBlock Text="Đăng Ký" FontSize="32" FontWeight="Bold" Foreground="#E91E63" Margin="0,0,0,10"/>
                    <TextBlock Text="Tạo tài khoản mới miễn phí" FontSize="14" Foreground="#888" Margin="0,0,0,20"/>

                    <TextBox Text="{Binding RegEmail, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                             materialDesign:HintAssist.Hint="Email"
                             FontSize="16" Margin="0,0,0,15"
                             Foreground="White" BorderBrush="#E91E63"
                             materialDesign:HintAssist.Foreground="#E91E63"/>

                    <PasswordBox x:Name="RegPasswordBox"
                                 Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                 materialDesign:HintAssist.Hint="Mật khẩu"
                                 FontSize="16" Margin="0,0,0,15"
                                 Foreground="White" BorderBrush="#E91E63"
                                 materialDesign:HintAssist.Foreground="#E91E63"/>

                    <PasswordBox x:Name="RegConfirmPasswordBox"
                                 Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                 materialDesign:HintAssist.Hint="Xác nhận mật khẩu"
                                 FontSize="16" Margin="0,0,0,30"
                                 Foreground="White" BorderBrush="#E91E63"
                                 materialDesign:HintAssist.Foreground="#E91E63"/>

                    <Button Command="{Binding RegisterCommand}"
                            CommandParameter="{Binding ElementName=RegPasswordBox}"
                            Content="ĐĂNG KÝ TÀI KHOẢN"
                            Height="50" FontSize="16" FontWeight="Bold"
                            materialDesign:ButtonAssist.CornerRadius="25"
                            Background="#E91E63" BorderThickness="0"
                            Margin="0,0,0,20"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="Đã có tài khoản? " Foreground="#888"/>
                        <TextBlock Text="Đăng nhập ngay" 
                                   Foreground="#E91E63" FontWeight="Bold" 
                                   Cursor="Hand" TextDecorations="Underline">
                            <TextBlock.InputBindings>
                                <MouseBinding MouseAction="LeftClick" Command="{Binding SwitchToLoginCommand}"/>
                            </TextBlock.InputBindings>
                        </TextBlock>
                    </StackPanel>

                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>